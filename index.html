<!DOCTYPE html>
<html style="margin: 0px; min-height:100vh">

<head>
    <title>Ditado-generator</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="includes/css/uikit.min.css" />
    <script src="includes/js/jquery-3.4.1.min.js"></script>
    <script src="includes/js/uikit.min.js"></script>
    <script src="includes/js/uikit-icons.min.js"></script>
    <script src="includes/js/mustache.min.js"></script>
    <script src="includes/js/moment.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/main.js"></script>
</head>

<body class="uk-background-secondary" style="margin: 0px; min-height:100vh" onload="randoCenas()">

    <nav class="uk-navbar-container uk-margin" uk-navbar>
        <div class="uk-navbar-center">
            <a class="uk-navbar-item uk-logo" href="#">Ditado-generator</a>
        </div>
    </nav>

    <div style="width: 90vw; margin: auto" , class="uk-light uk-text-center">
        <br>
        <h3 id="ditados"></h3>
        <br>
        <br>
        <button class="uk-button uk-button-default" onclick="randoCenas()">Mais um!</button>
        <br>
        <br>
        <!--
        <a href=""  class="twitter-share-button" data-show-count="false">Tweet</a>
        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>-->
        <a target=_blank uk-icon="icon: twitter" href="#" id="tweetar"  onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">Tweetar </a>
    </div>
</body>

<script>
    var pt1 = new Array
    var pt2 = new Array

    var teste = null;
    $.ajax({
        'async': false,
        'global': false,
        'url': "dados.json",
        'dataType': "json",
        'success': function (data) {
            teste = data;
        }
    });

    pt1 = teste[0].partes;
    pt2 = teste[1].partes;

    //console.log(pt1)

    function randoCenas() {
        var ditado
        ditado = pt1[Math.floor(Math.random() * pt1.length)].texto + " " + pt2[Math.floor(Math.random() * pt2.length)].texto;
        //console.log(ditado)
        document.getElementById("ditados").innerHTML = ditado;
        var link = document.getElementById("tweetar");
        var tweeto = "https://twitter.com/intent/tweet?text=" + ditado + "%0A%0Agerado%20no%20%23DitadoGenerator%0A%0Ahttps://henriquetguedes.github.io/DITADOgenerator";
        tweeto = tweeto.replace(/ /g, "%20");
        link.setAttribute("href", tweeto);
    }
</script>

</html>