<!DOCTYPE html>
<html style="margin: 0px; min-height:100vh">

<head>
    <title>Ditado-generator</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="Ditado-generator" />
    <meta property="og:url" content="https://henriquetguedes.github.io/DITADOgenerator/" />
    <meta property="og:image" content="https://henriquetguedes.github.io/DITADOgenerator/img/og.jpg" />
    <meta property="og:description" content="Gerador aleatório de ditados portugueses. Às vezes engraçado, às vezes parvo." />
    <link rel="stylesheet" href="includes/css/uikit.min.css" />
    <script src="includes/js/jquery-3.4.1.min.js"></script>
    <script src="includes/js/uikit.min.js"></script>
    <script src="includes/js/uikit-icons.min.js"></script>
    <script src="includes/js/mustache.min.js"></script>
    <script src="includes/js/moment.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/main.js"></script>
</head>

<body class="uk-background-secondary" style="margin: 0px; min-height:100vh" onload="randoCenas()">

    <nav class="uk-navbar-container uk-margin" uk-navbar>
        <div class="uk-navbar-center">
            <a class="uk-navbar-item uk-logo" href="#">Ditado-generator</a>
        </div>
    </nav>

    <div style="width: 90vw; margin: auto" , class="uk-light uk-text-center">
        <br>
        <h2 id="ditados">
            </h3>
            <br>
            <br>
            <button class="uk-button uk-button-default" onclick="randoCenas()">Mais um!</button>
            <br>
            <br>
            <!--
        <a href=""  class="twitter-share-button" data-show-count="false">Tweet</a>
        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>-->
            <a target=_blank uk-icon="icon: twitter" href="#" id="tweetar"
                onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">Tweetar
            </a>
            <a target=_blank uk-icon="icon: mail" href="#" id="mailar">Email
            </a>
            <br>
            <br>
            <br>
    </div>

    <div style="width: 90vw; margin: auto" , class="uk-text-center">
        <p class="uk-light" style="display: inline-block; visibility: hidden">Solução</p>
        <p class="uk-light" style="display: inline-block; visibility: hidden" id="pt1pr"></p>
        <p style="display: inline-block; visibility: hidden" id="pt2pr"></p>
        <p class="uk-light" id="solu" onclick="mostrar()">Solução</p>
        <br id="spac" style="display: inline-block; visibility: hidden">
        <p style="display: inline-block; visibility: hidden" id="pt1sn"></p>
        <p class="uk-light" style="display: inline-block; visibility: hidden" id="pt2sn"></p>
    </div>
</body>

<script>
    var pt1 = new Array
    var pt2 = new Array

    var teste = null;
    $.ajax({
        'async': false,
        'global': false,
        'url': "dados.json",
        'dataType': "json",
        'success': function (data) {
            teste = data;
        }
    });

    pt1 = teste[0].partes;
    pt2 = teste[1].partes;

    //console.log(pt1)

    function randoCenas() {
        var ditado
        var num1 = Math.floor(Math.random() * pt1.length)
        var num2 = Math.floor(Math.random() * pt2.length)
        ditado = pt1[num1].texto + " " + pt2[num2].texto;
        //console.log(ditado)
        document.getElementById("ditados").innerHTML = ditado;

        var link = document.getElementById("tweetar");
        var tweeto = "https://twitter.com/intent/tweet?text=" + ditado + "%0A%0Agerado%20no%20%23DitadoGenerator%0A%0Ahttps://henriquetguedes.github.io/DITADOgenerator";
        tweeto = tweeto.replace(/ /g, "%20");
        link.setAttribute("href", tweeto);

        var link = document.getElementById("mailar");
        var tweeto = "mailto:?subject=Gerei%20um%20ditado&amp;body=" + ditado + "%0A%0Agerado%20no%20%23DitadoGenerator%0A%0Ahttps:%47%47henriquetguedes.github.io%47DITADOgenerator";
        tweeto = tweeto.replace(/ /g, "%20");
        link.setAttribute("href", tweeto);

        document.getElementById("pt1pr").innerHTML = pt1[num1].texto;
        document.getElementById("pt2pr").innerHTML = pt2[num1].texto;
        document.getElementById("pt1sn").innerHTML = pt1[num2].texto;
        document.getElementById("pt2sn").innerHTML = pt2[num2].texto;

        document.getElementById("pt1pr").style.visibility = "hidden";
        document.getElementById("pt2pr").style.visibility = "hidden";
        document.getElementById("pt1sn").style.visibility = "hidden";
        document.getElementById("pt2sn").style.visibility = "hidden";
        document.getElementById("solu").style.visibility = "visible";
        document.getElementById("solu").style.display = "";
        document.getElementById("spac").style.display = "inline-block";
    };

    function mostrar() {
        document.getElementById("pt1pr").style.visibility = "visible";
        document.getElementById("pt2pr").style.visibility = "visible";
        document.getElementById("pt1sn").style.visibility = "visible";
        document.getElementById("pt2sn").style.visibility = "visible";
        document.getElementById("solu").style.visibility = "hidden";
        document.getElementById("solu").style.display = "inline-block";
        document.getElementById("spac").style.display = "";
    };
</script>

</html>